# DogsWebApi

DogsWebAPI — це RESTful API, яке надає можливості для керування інформацією про собак. Проект побудований на основі **ASP.NET Core** з використанням **Onion Architecture** для організації коду та забезпечення масштабованості. Додано функціональність для лімітування запитів, щоб запобігти надмірному навантаженню на сервер.

## Основний функціонал

1. **Пінг** (Ping)
   - **Метод**: `GET`
   - **Маршрут**: `/ping`
   - **Опис**: Повертає поточну версію сервісу.
   - **Приклад запиту**:
     ```bash
     curl -X GET http://localhost/ping
     ```
   - **Відповідь**:
     ```json
     "Dogshouseservice.Version1.0.1"
     ```

2. **Отримання інформації про собак** (Get Dogs)
   - **Метод**: `GET`
   - **Маршрут**: `/dogs`
   - **Опис**: Повертає список собак із бази даних. Підтримує сортування та пагінацію.
   - **Приклад запиту**:
     ```bash
     curl -X GET "http://localhost/dogs?attribute=weight&order=desc"
     ```
   - **Параметри**:
     - `attribute`: Атрибут для сортування (наприклад, `name`, `weight`, `tail_length`).
     - `order`: Порядок сортування (`asc` або `desc`).
     - `pageNumber`: Номер сторінки для пагінації.
     - `pageSize`: Кількість елементів на сторінці.
   - **Відповідь**:
     ```json
     [
       {
         "name": "Neo",
         "color": "red&amber",
         "tail_length": 22,
         "weight": 32
       },
       {
         "name": "Jessy",
         "color": "black&white",
         "tail_length": 7,
         "weight": 14
       }
     ]
     ```

3. **Додавання нової собаки** (Add Dog)
   - **Метод**: `POST`
   - **Маршрут**: `/dog`
   - **Опис**: Додає нову собаку до бази даних.
   - **Приклад запиту**:
     ```bash
     curl -X POST "http://localhost/dog" -H "Content-Type: application/json" -d "{
       \"name\": \"Doggy\",
       \"color\": \"red\",
       \"tail_length\": 173,
       \"weight\": 33
     }"
     ```
   - **Валідація**:
     - Перевірка наявності собаки з таким самим ім'ям.
     - Перевірка, чи не є довжина хвоста від'ємною.
     - Перевірка на правильність формату JSON.
   - **Відповідь**:
     - Успішний додавання:
       ```json
       {
         "name": "Doggy",
         "color": "red",
         "tail_length": 173,
         "weight": 33
       }
       ```

4. **Лімітування запитів** (Rate Limiting)
   - **Метод**: Всі методи, що підтримують обмеження запитів.
   - **Опис**: Якщо кількість запитів перевищує налаштовану ліміт, сервер повертає статус `429 Too Many Requests`.
   - **Налаштування**:
     - За замовчуванням обмеження складає **10 запитів на секунду** для кожного клієнта.
   - **Приклад запиту, що перевищує ліміт**:
     ```bash
     curl -X GET http://localhost/dogs
     ```
   - **Відповідь при перевищенні ліміту**:
     ```json
     "Too Many Requests. Please try again later."
     ```

## Архітектура

Проект побудований з використанням **Onion Architecture**, що дозволяє ефективно розділяти бізнес-логіку, доступ до даних та інтерфейси користувача. Це дає можливість легкого розширення і підтримки проекту.

1. **Core Layer** (ядро):
   - Містить всі важливі бізнес-правила, логіку і моделі даних.
2. **Application Layer**:
   - Реалізація логіки бізнесу та інтерфейсів.
3. **Infrastructure Layer**:
   - Реалізація доступу до бази даних, взаємодія з віддаленими сервісами.
4. **Presentation Layer**:
   - Містить контролери для обробки HTTP-запитів.


